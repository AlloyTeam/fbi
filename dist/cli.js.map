{"version":3,"sources":["../src/cli.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;AACA;;;;AACA;;;;;;IAEqB,G;;;AACnB,eAAa,KAAb,EAAoB;AAAA;;AAAA;;AAElB,UAAK,KAAL,GAAa,KAAb;;AAEA,UAAK,IAAL;AAJkB;AAKnB;;;;2BAEO;AACN,WAAK,UAAL;;AAEA;AACA,UAAI,CAAC,KAAK,KAAL,CAAW,MAAZ,IACC,KAAK,KAAL,CAAW,CAAX,MAAkB,IADnB,IAEC,KAAK,KAAL,CAAW,CAAX,MAAkB,QAFvB,EAEiC;AAC/B;AACA;AACD;;AAED;AACA,UAAI,KAAK,KAAL,CAAW,CAAX,MAAkB,IAAlB,IACC,KAAK,KAAL,CAAW,CAAX,MAAkB,WADvB,EACoC;AAClC;AACA;AACD;;AAED;AACD;;;iCAEa;AACZ,UAAI;AACF,YAAI,QAAQ,KAAK,CAAL,CAAO,GAAP,CAAW,KAAK,MAAL,CAAY,KAAZ,CAAkB,OAA7B,CAAZ;AACA,qBAAG,UAAH,CAAc,KAAd,EAAqB,aAAG,IAAH,GAAU,aAAG,IAAlC;AACA,aAAK,KAAL,GAAa,IAAb;AACA,YAAI,SAAS,QAAQ,KAAR,CAAb;AACA,aAAK,CAAL,CAAO,KAAP,CAAa,KAAK,MAAlB,EAA0B,MAA1B;AACD,OAND,CAME,OAAM,CAAN,EAAS;AACT,aAAK,KAAL,GAAa,KAAb;AACD;AACF;;;;;kBAvCkB,G;;;AA0CrB,IAAM,sTAAN;;AAeA,SAAS,IAAT,GAAiB;AACf,UAAQ,GAAR,CAAY,OAAZ;AACD;;AAED,SAAS,OAAT,GAAoB;AAClB,UAAQ,GAAR,CAAY,kBAAI,OAAhB;AACD","file":"cli.js","sourcesContent":["import fs from 'fs'\nimport Fbi from './index'\nimport pkg from '../package.json'\n\nexport default class Cli extends Fbi {\n  constructor (argvs) {\n    super()\n    this.argvs = argvs\n\n    this.init()\n  }\n\n  init () {\n    this.initConfig()\n\n    // help\n    if (!this.argvs.length\n      || this.argvs[0] === '-h'\n      || this.argvs[0] === '--help') {\n      help()\n      return\n    }\n\n    // show version\n    if (this.argvs[0] === '-v'\n      || this.argvs[0] === '--verison') {\n      version()\n      return\n    }\n\n    super.run()\n  }\n\n  initConfig () {\n    try {\n      let _path = this._.cwd(this.config.paths.options)\n      fs.accessSync(_path, fs.R_OK | fs.W_OK)\n      this.isFbi = true\n      let usrCfg = require(_path)\n      this._.merge(this.config, usrCfg)\n    } catch(e) {\n      this.isFbi = false\n    }\n  }\n}\n\nconst helpTxt = `\n  Usage: fbi [command] [command] [command] ...\n\n  Commands:\n\n    n, new            new project\n    b, build          build project\n    s, serve          serve project or files\n\n  Options:\n\n    -h, --help        output usage information\n    -v, --version     output the version number\n`\n\nfunction help () {\n  console.log(helpTxt)\n}\n\nfunction version () {\n  console.log(pkg.version)\n}\n"]}